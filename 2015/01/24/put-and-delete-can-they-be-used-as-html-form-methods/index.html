<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Phaninder,hello@phaninder.com"><title>PUT and DELETE: can they be used as HTML form methods ? · Phani</title><meta name="description" content="If you’ve designed a web service for other HTTP clients, you’ve used PUT and DELETE as well.
What are these methods?HTTP PUT and DELETE are used in RE"><meta name="keywords" content="Scaling Infrastructure, Docker, NodeJs, Postgres, ReactJs, Phonegap, Web application security, es7"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/ds-embed.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '181803708965061'); // Insert your pixel ID here.
fbq('track', 'PageView');</script><noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=181803708965061&amp;ev=PageView&amp;noscript=1"></noscript></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">Phani</a></h3><div class="description"><p>My findings and ramblings</p></div></div></div><ul class="social-links"><li><a href="https://twitter.com/PhaniPasupula" target="_blank"><i class="fa fa-twitter"></i></a></li><li><a href="https://uk.linkedin.com/in/phaninder-pasupula-aab4a02b" target="_blank"><i class="fa fa-linkedin"></i></a></li></ul><div class="footer"><div class="by_farbox"><a href="" target="_blank">Copyright 2014-2017</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/archives">Archive</a></li><li><a href="/links">Links</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="https://secure.gravatar.com/avatar/da8ad3d7a783fda9082894427e6be2a9?s=180&amp;r=G&amp;d="></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>PUT and DELETE: can they be used as HTML form methods ?</a></h3></div><div class="post-content"><p>If you’ve designed a web service for other HTTP clients, you’ve used PUT and DELETE as well.</p>
<p><strong><em>What are these methods?</em></strong><br>HTTP PUT and DELETE are used in REST (software architectural style) for content.</p>
<p><strong><em>Are they allowed as HTML Form methods?</em></strong><br>No, only methods that are allowed in HTML forms are POST and GET.</p>
<ul>
<li>HTML4 / XHTML1 : See <a href="http://www.w3.org/TR/html4/interact/forms.html#h-17.3" target="_blank" rel="external">form spec</a></li>
<li>HTML5 : See <a href="http://www.w3.org/TR/html5/forms.html#attr-fs-action" target="_blank" rel="external">form spec</a></li>
</ul>
<p><strong>What happens if I use other than POST and GET as an HTML form method?</strong><br>Browser doesn’t complain but it will be sent as GET request.</p>
<p><strong>Can I make a PUT and DELETE requests from an HTML form?</strong><br><em>Yes</em></p>
<ol>
<li>JavaScript can invoke them using XMLHttpRequest.</li>
<li>If the server is Restful architecture then hopefully there could be a work around provided to override methods, if not create a override.</li>
</ol>
<p><strong>1. XMLHttpRequest req:</strong></p>
<p>Below is a pure JS function that makes a PUT request to the server. You can use jQuery’s AJAX method which is more usable and simplified form that wraps <code>XMLHttpRequest</code> raw browser object. <code data-gist-id="8402603" data-gist-file="makePutReq.js"><a href="https://gist.github.com/pasupulaphani/8402603?file=makePutReq.js" target="_blank">https://gist.github.com/pasupulaphani/8402603?file=makePutReq.js</a></code> &gt; -&gt; Please make sure that the server has given you permissions to use these methods. You can verify them by making an OPTIONS request and looking into Access-Control-Allow-Methods option values. &gt; -&gt; For Cross-Origin Resource Sharing (CORS) look at origin options (Access-Control-Allow-Origin). See <a href="http://www.html5rocks.com/en/tutorials/cors/#toc-types-of-cors-requests" target="_blank" rel="external">HTML 5 Rocks Tutorial on CORS</a> for a quick look and here is <a href="http://www.w3.org/TR/cors/" target="_blank" rel="external">full spec</a>.<br><strong>2. Server with Restful architecture:</strong><br>REST service is based on HTTP protocol nevertheless is just a set of conventions about how to use HTTP. All modern web frameworks provide us with handlers for HTTP method override which makes web API easier and cleaner. Lets see how they are implemented in few major web frameworks.</p>
<h5 id="ExpressJs-CURD"><a href="#ExpressJs-CURD" class="headerlink" title="ExpressJs CURD:"></a><strong>ExpressJs CURD:</strong></h5><p>Expressjs is based on REST architecture and provides us with an handler for method override.</p>
<ol>
<li>Add this line <code>app.use(express.methodOverride())</code> to your middleware configuration.</li>
<li>Add <code>app.put</code> for PUT and <code>app.delete</code> for DELETE in your routes and change their respective handlers if you have controllers setup.</li>
<li>Add an hidden input element with name “_method” to your form with the CURD action as its value. <code data-gist-id="8402603" data-gist-file="expressJs_put_form.html"><a href="https://gist.github.com/pasupulaphani/8402603?file=expressJs_put_form.html" target="_blank">https://gist.github.com/pasupulaphani/8402603?file=expressJs_put_form.html</a></code></li>
</ol>
<h5 id="Rails-CURD"><a href="#Rails-CURD" class="headerlink" title="Rails CURD:"></a><strong>Rails CURD:</strong></h5><p>Rails accepts a POST request and looks for a :method parameter; assuming it is a default scaffold, PUT gets routed to <span style="text-decoration: underline;">update</span> controller def; similarly DELETE gets routed to <span style="text-decoration: underline;">destroy</span> controller def. <code data-gist-id="8402603" data-gist-file="rails_put_req.erb"><a href="https://gist.github.com/pasupulaphani/8402603?file=rails_put_req.erb" target="_blank">https://gist.github.com/pasupulaphani/8402603?file=rails_put_req.erb</a></code></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2015-01-24</span><i class="fa fa-tag"></i></div></div></div></div><div class="share"><div class="evernote"> <a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"> <a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"> <a href="http://twitter.com/home?status=,http://phaninder.com/2015/01/24/put-and-delete-can-they-be-used-as-html-form-methods/,Phani,PUT and DELETE: can they be used as HTML form methods ?,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a role="navigation" href="/2015/01/24/restful-put-misconceptions/" title="RESTful - put misconceptions" class="btn">next_post</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>